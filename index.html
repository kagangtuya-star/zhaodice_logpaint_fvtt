<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta content="QQ跑团记录着色器" name="Description">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
<title>QQ跑团记录着色器</title>
<script src="https://cdn.bootcss.com/jquery/2.2.4/jquery.js"></script>
<link rel="stylesheet" type="text/css" href="https://cdn.bootcdn.net/ajax/libs/Buttons/2.0.0/css/buttons.css" />
<style type="text/css">
body{background:#d1eaf7}
.logTextare {
 width:100%;/*自动适应父布局宽度*/
 overflow:auto;
 word-break:break-all;
 resize: vertical;
 border:0;border-radius:5px;background-color:rgba(255, 255, 255, 0.85);
}
</style>
<style type="text/css">
	table
	{
		border-collapse: collapse;
		margin: 0 auto;
		text-align: center;
	}
	table td, table th
	{
		border: 1px solid #cad9ea;
		color: #666;
		height: 30px;
	}
	table thead th
	{
		background-color: #CCE8EB;
		width: 100px;
	}
	table tr:nth-child(odd)
	{
		background: #fff;
	}
	table tr:nth-child(even)
	{
		background: #F5FAFA;
	}
.STYLE1 {font-size: 26px}
.STYLE2 {font-size: 16px}
</style>
<style>
#holder {
 width: 100%;
}
#holder >div {
 clear: both;
 padding: 2%;
 margin-bottom: 20px;
 border-bottom: 1px solid #eee;
 float: left;
 width: 96%;
}
label {
 display: inline;
}
.regular-checkbox {
 display: none;
}
.regular-checkbox + label {
 background-color: #0000000f;
 border: 1px solid #b7e0fe;
 box-shadow: 0 1px 2px rgba(0,0,0,0.05), inset 0px -15px 10px -12px rgba(0,0,0,0.05);
 padding: 9px;
 border-radius: 3px;
 display: inline-block;
 position: relative;
}
.regular-checkbox + label:active,
.regular-checkbox:checked + label:active {
 box-shadow: 0 1px 2px rgba(0,0,0,0.05), inset 0px 1px 3px rgba(0,0,0,0.1);
}
.regular-checkbox:checked + label {
 background-color: #fff;
 border: 1px solid #b7e0fe;
 box-shadow: 0 1px 2px rgba(0,0,0,0.05), inset 0px -15px 10px -12px rgba(0,0,0,0.05), inset 15px 10px -12px rgba(255,255,255,0.1);
 color: #99a1a7;
}
.regular-checkbox:checked + label:after {
 content: '\2714';
 font-size: 14px;
 position: absolute;
 top: 0px;
 left: 3px;
 color: #99a1a7;
}
.big-checkbox + label {
 padding: 18px;
}
.big-checkbox:checked + label:after {
 font-size: 28px;
 left: 6px;
}
.tag {
 font-family: Arial, sans-serif;
 width: 200px;
 position: relative;
 top: 5px;
 font-weight: bold;
 text-transform: uppercase;
 display: block;
 float: left;
}
.radio-1 {
 width: 193px;
}
.button-holder {
 float: left;
}
/* RADIO */.regular-radio {
 display: none;
}
.regular-radio + label {
 -webkit-appearance: none;
 background-color: #fafafa;
 border: 1px solid #cacece;
 box-shadow: 0 1px 2px rgba(0,0,0,0.05), inset 0px -15px 10px -12px rgba(0,0,0,0.05);
 padding: 9px;
 border-radius: 50px;
 display: inline-block;
 position: relative;
}
.regular-radio:checked + label:after {
 content: ' ';
 width: 12px;
 height: 12px;
 border-radius: 50px;
 position: absolute;
 top: 3px;
 background: #99a1a7;
 box-shadow: inset 0px 0px 10px rgba(0,0,0,0.3);
 text-shadow: 0px;
 left: 3px;
 font-size: 32px;
}
.regular-radio:checked + label {
 background-color: #ecf1e4;
 color: #99a1a7;
 border: 1px solid #adb8c0;
 box-shadow: 0 1px 2px rgba(0,0,0,0.05), inset 0px -15px 10px -12px rgba(0,0,0,0.05), inset 15px 10px -12px rgba(255,255,255,0.1), inset 0px 0px 10px rgba(0,0,0,0.1);
}
.regular-radio + label:active,
.regular-radio:checked + label:active {
 box-shadow: 0 1px 2px rgba(0,0,0,0.05), inset 0px 1px 3px rgba(0,0,0,0.1);
}
.big-radio + label {
 padding: 16px;
}
.big-radio:checked + label:after {
 width: 24px;
 height: 24px;
 left: 4px;
 top: 4px;
}
/* ------- IGNORE */#header {
 width: 100%;
 margin: 0px auto;
}
#header #center {
 text-align: center;
}
#header h1 span {
 color: #000;
 display: block;
 font-size: 50px;
}
#header p {
 font-family: 'Georgia', serif;
}
#header h1 {
 color: #892dbf;
 font: bold 40px 'Bree Serif', serif;
}
#travel {
 padding: 10px;
 background: rgba(0,0,0,0.6);
 border-bottom: 2px solid rgba(0,0,0,0.2);
 font-variant: normal;
 text-decoration: none;
 margin-bottom: 20px;
}
#travel a {
 font-family: 'Georgia', serif;
 text-decoration: none;
 border-bottom: 1px solid #f9f9f9;
 color: #f9f9f9;
}

</style>
<style>

.big-checkbox + label {
 padding: 18px;
}
.big-checkbox:checked + label:after {
 font-size: 28px;
 left: 6px;
}
.tag {
 font-family: Arial, sans-serif;
 width: 200px;
 position: relative;
 top: 5px;
 font-weight: bold;
 text-transform: uppercase;
 display: block;
 float: left;
}
.radio-1 {
 width: 193px;
}
.button-holder {
 float: left;
}
/* RADIO */.regular-radio {
 display: none;
}
.regular-radio + label {
 -webkit-appearance: none;
 background-color: #fafafa;
 border: 1px solid #cacece;
 box-shadow: 0 1px 2px rgba(0,0,0,0.05), inset 0px -15px 10px -12px rgba(0,0,0,0.05);
 padding: 9px;
 border-radius: 50px;
 display: inline-block;
 position: relative;
}
.regular-radio:checked + label:after {
 content: ' ';
 width: 12px;
 height: 12px;
 border-radius: 50px;
 position: absolute;
 top: 3px;
 background: #99a1a7;
 box-shadow: inset 0px 0px 10px rgba(0,0,0,0.3);
 text-shadow: 0px;
 left: 3px;
 font-size: 32px;
}
.regular-radio:checked + label {
 background-color: #ecf1e4;
 color: #99a1a7;
 border: 1px solid #adb8c0;
 box-shadow: 0 1px 2px rgba(0,0,0,0.05), inset 0px -15px 10px -12px rgba(0,0,0,0.05), inset 15px 10px -12px rgba(255,255,255,0.1), inset 0px 0px 10px rgba(0,0,0,0.1);
}
.regular-radio + label:active,
.regular-radio:checked + label:active {
 box-shadow: 0 1px 2px rgba(0,0,0,0.05), inset 0px 1px 3px rgba(0,0,0,0.1);
}
.big-radio + label {
 padding: 16px;
}
.big-radio:checked + label:after {
 width: 24px;
 height: 24px;
 left: 4px;
 top: 4px;
}
/* ------- IGNORE */#header {
 width: 100%;
 margin: 0px auto;
}
#header #center {
 text-align: center;
}
#header h1 span {
 color: #000;
 display: block;
 font-size: 50px;
}
#header p {
 font-family: 'Georgia', serif;
}
#header h1 {
 color: #892dbf;
 font: bold 40px 'Bree Serif', serif;
}
#travel {
 padding: 10px;
 background: rgba(0,0,0,0.6);
 border-bottom: 2px solid rgba(0,0,0,0.2);
 font-variant: normal;
 text-decoration: none;
 margin-bottom: 20px;
}
#travel a {
 font-family: 'Georgia', serif;
 text-decoration: none;
 border-bottom: 1px solid #f9f9f9;
 color: #f9f9f9;
}
</style>
<style>
.m-no-select {
        -webkit-touch-callout: none;
        /* iOS Safari */
        -webkit-user-select: none;
        /* Chrome/Safari/Opera */
        -khtml-user-select: none;
        /* Konqueror */
        -moz-user-select: none;
        /* Firefox */
        -ms-user-select: none;
        /* Internet Explorer/Edge */
        user-select: none;
        /* Non-prefixed version, currently

not supported by any browser */
    }
</style>
<style>
#fullbg {
	background-color:gray;
	left:0;
	opacity:0.8;
	position:absolute;
	top:0;
	z-index:3;
	filter:alpha(opacity=80);
	-moz-opacity:0.5;
	-khtml-opacity:0.5;
	height: 100%;
	width: 100%;
	display:none;
	position:fixed !important; /* 浮动 */
	position:absolute;
}
#dialog {
	background-color:#ffffffc7;
	border:2px solid rgba(144, 178, 232, 0.8);
	height:10em;
	left:50%;
	margin:-10em 0 0 -10em;
	padding:1px;
	position:fixed !important; /* 浮动对话框 */
	position:absolute;
	top:50%;
	width:20em;
	z-index:5;
	border-radius:5px;
	display:none;
}
.Bar ,.Bars {
	position: relative;
	width: 100%;
    /* 宽度 */
	border: 1px solid #3281D6;
 /*! padding: 1px; */
}

.Bar div,.Bars div {
	display: block;
	position: relative;
	background: #007CFF38;
/* 进度条背景颜色 */
	color: #3339;
	height: 20px;
 /* 高度 */
	line-height: 20px;
  /* 必须和高度一致，文本才能垂直居中 */
}

.Bars div {
	background: #090
}

.Bar div span,.Bars div span {
	position: absolute;
	width: 100%;
 /* 宽度 */
	text-align: center;
	font-weight: bold;
}

.cent {
	margin: 0 auto;
	width: 300px;
	overflow: hidden
} 

</style>
<style>

ul.demo-vertical {
    list-style-type: none;
    margin: 0;
    padding: 0;
    width: 200px;
    background-color: #f1f1f1;
}

ul.demo-vertical li a {
    display: block;
    color: #000;
    padding: 8px 0 8px 16px;
    text-decoration: none;
	border: 0px;
}

ul.demo-vertical li a:hover:not(.active) {
    background-color: #555;
    color:white;
}

ul.demo-vertical a.active {
    background-color: #4CAF50;
    color:white;
}


ul.demo-horizontal {
    list-style-type: none;
    margin: 0;
    padding: 0;
    overflow: hidden;
    background-color: #333;
}

ul.demo-horizontal li {
    float: left;
	margin: 0;
}

ul.demo-horizontal li a {
    display: inline-block;
    color: white;
    text-align: center;
    padding: 14px 16px;
    text-decoration: none;
	border: 0;
}

ul.demo-horizontal li a:hover:not(.active) {
    background-color: #000;
}

ul.demo-horizontal li a.active {
    background-color:#4CAF50;
}


ul.gray {
    border: 1px solid #e7e7e7;
    background-color: #f3f3f3a3;
}

ul.gray li a {
    display: block;
    color: #666;
    text-align: center;
    padding: 14px 0.4em;
    text-decoration: none;
	border: 0;
}

ul.gray li a:hover:not(.active) {
    background-color: #ddd;
}

ul.gray li a.active {
    color: white;
    background-color: #008CBA;
}


</style>
<style id="dynamicLogStyle">
.STYLE3 {font-size: 14px}
</style>
<script type="text/javascript">
//跳https
var targetProtocol = "https:";
if (window.location.protocol == "http:")
 window.location.href = targetProtocol +
  window.location.href.substring(window.location.protocol.length);
</script>
<script>
(function() {
	var table = [
    	0x00000000, 0x77073096, 0xEE0E612C, 0x990951BA, 0x076DC419, 0x706AF48F,
		0xE963A535, 0x9E6495A3, 0x0EDB8832, 0x79DCB8A4, 0xE0D5E91E, 0x97D2D988,
		0x09B64C2B, 0x7EB17CBD, 0xE7B82D07, 0x90BF1D91, 0x1DB71064, 0x6AB020F2,
		0xF3B97148, 0x84BE41DE, 0x1ADAD47D, 0x6DDDE4EB, 0xF4D4B551, 0x83D385C7,
		0x136C9856, 0x646BA8C0, 0xFD62F97A, 0x8A65C9EC, 0x14015C4F, 0x63066CD9,
		0xFA0F3D63, 0x8D080DF5, 0x3B6E20C8, 0x4C69105E, 0xD56041E4, 0xA2677172,
		0x3C03E4D1, 0x4B04D447, 0xD20D85FD, 0xA50AB56B, 0x35B5A8FA, 0x42B2986C,
		0xDBBBC9D6, 0xACBCF940, 0x32D86CE3, 0x45DF5C75, 0xDCD60DCF, 0xABD13D59,
		0x26D930AC, 0x51DE003A, 0xC8D75180, 0xBFD06116, 0x21B4F4B5, 0x56B3C423,
		0xCFBA9599, 0xB8BDA50F, 0x2802B89E, 0x5F058808, 0xC60CD9B2, 0xB10BE924,
		0x2F6F7C87, 0x58684C11, 0xC1611DAB, 0xB6662D3D, 0x76DC4190, 0x01DB7106,
		0x98D220BC, 0xEFD5102A, 0x71B18589, 0x06B6B51F, 0x9FBFE4A5, 0xE8B8D433,
		0x7807C9A2, 0x0F00F934, 0x9609A88E, 0xE10E9818, 0x7F6A0DBB, 0x086D3D2D,
		0x91646C97, 0xE6635C01, 0x6B6B51F4, 0x1C6C6162, 0x856530D8, 0xF262004E,
		0x6C0695ED, 0x1B01A57B, 0x8208F4C1, 0xF50FC457, 0x65B0D9C6, 0x12B7E950,
		0x8BBEB8EA, 0xFCB9887C, 0x62DD1DDF, 0x15DA2D49, 0x8CD37CF3, 0xFBD44C65,
		0x4DB26158, 0x3AB551CE, 0xA3BC0074, 0xD4BB30E2, 0x4ADFA541, 0x3DD895D7,
		0xA4D1C46D, 0xD3D6F4FB, 0x4369E96A, 0x346ED9FC, 0xAD678846, 0xDA60B8D0,
		0x44042D73, 0x33031DE5, 0xAA0A4C5F, 0xDD0D7CC9, 0x5005713C, 0x270241AA,
		0xBE0B1010, 0xC90C2086, 0x5768B525, 0x206F85B3, 0xB966D409, 0xCE61E49F,
		0x5EDEF90E, 0x29D9C998, 0xB0D09822, 0xC7D7A8B4, 0x59B33D17, 0x2EB40D81,
		0xB7BD5C3B, 0xC0BA6CAD, 0xEDB88320, 0x9ABFB3B6, 0x03B6E20C, 0x74B1D29A,
		0xEAD54739, 0x9DD277AF, 0x04DB2615, 0x73DC1683, 0xE3630B12, 0x94643B84,
		0x0D6D6A3E, 0x7A6A5AA8, 0xE40ECF0B, 0x9309FF9D, 0x0A00AE27, 0x7D079EB1,
		0xF00F9344, 0x8708A3D2, 0x1E01F268, 0x6906C2FE, 0xF762575D, 0x806567CB,
		0x196C3671, 0x6E6B06E7, 0xFED41B76, 0x89D32BE0, 0x10DA7A5A, 0x67DD4ACC,
		0xF9B9DF6F, 0x8EBEEFF9, 0x17B7BE43, 0x60B08ED5, 0xD6D6A3E8, 0xA1D1937E,
		0x38D8C2C4, 0x4FDFF252, 0xD1BB67F1, 0xA6BC5767, 0x3FB506DD, 0x48B2364B,
		0xD80D2BDA, 0xAF0A1B4C, 0x36034AF6, 0x41047A60, 0xDF60EFC3, 0xA867DF55,
		0x316E8EEF, 0x4669BE79, 0xCB61B38C, 0xBC66831A, 0x256FD2A0, 0x5268E236,
		0xCC0C7795, 0xBB0B4703, 0x220216B9, 0x5505262F, 0xC5BA3BBE, 0xB2BD0B28,
		0x2BB45A92, 0x5CB36A04, 0xC2D7FFA7, 0xB5D0CF31, 0x2CD99E8B, 0x5BDEAE1D,
		0x9B64C2B0, 0xEC63F226, 0x756AA39C, 0x026D930A, 0x9C0906A9, 0xEB0E363F,
		0x72076785, 0x05005713, 0x95BF4A82, 0xE2B87A14, 0x7BB12BAE, 0x0CB61B38,
		0x92D28E9B, 0xE5D5BE0D, 0x7CDCEFB7, 0x0BDBDF21, 0x86D3D2D4, 0xF1D4E242,
		0x68DDB3F8, 0x1FDA836E, 0x81BE16CD, 0xF6B9265B, 0x6FB077E1, 0x18B74777,
		0x88085AE6, 0xFF0F6A70, 0x66063BCA, 0x11010B5C, 0x8F659EFF, 0xF862AE69,
		0x616BFFD3, 0x166CCF45, 0xA00AE278, 0xD70DD2EE, 0x4E048354, 0x3903B3C2,
		0xA7672661, 0xD06016F7, 0x4969474D, 0x3E6E77DB, 0xAED16A4A, 0xD9D65ADC,
		0x40DF0B66, 0x37D83BF0, 0xA9BCAE53, 0xDEBB9EC5, 0x47B2CF7F, 0x30B5FFE9,
		0xBDBDF21C, 0xCABAC28A, 0x53B39330, 0x24B4A3A6, 0xBAD03605, 0xCDD70693,
		0x54DE5729, 0x23D967BF, 0xB3667A2E, 0xC4614AB8, 0x5D681B02, 0x2A6F2B94,
		0xB40BBE37, 0xC30C8EA1, 0x5A05DF1B, 0x2D02EF8D
	];
	
    crc32 = function(string) {
    	// This converts a unicode string to UTF-8 bytes
    	string = unescape(encodeURI(string));
    	var crc = 0 ^ (-1);
        var len = string.length;
        for (var i=0; i < len; i++) {
        	crc = (crc >>> 8) ^ table[
            	(crc ^ string.charCodeAt(i)) & 0xFF
            ];
        }
        crc = crc ^ (-1);
        // Turns the signed integer into an unsigned integer
        if (crc < 0) {
        	crc += 4294967296;
        }
        return crc;
    };
})();
</script>
<script>
/*!
 * template.js v0.7.1 (https://github.com/yanhaijing/template.js)
 * API https://github.com/yanhaijing/template.js/blob/master/doc/api.md
 * Copyright 2015 yanhaijing. All Rights Reserved
 * Licensed under MIT (https://github.com/yanhaijing/template.js/blob/master/MIT-LICENSE.txt)
 */
;(function(root, factory) {
    var template = factory(root);
    if (typeof define === 'function' && define.amd) {
        // AMD
        define('template', function() {
            return template;
        });
    } else if (typeof exports === 'object') {
        // Node.js
        module.exports = template;
    } else {
        // Browser globals
        var _template = root.template;

        template.noConflict = function() {
            if (root.template === template) {
                root.template = _template;
            }

            return template;
        };
        root.template = template;
    }
}(this, function(root) {
    'use strict';
    var o = {
        sTag: '<%',//开始标签
        eTag: '%>',//结束标签
        compress: false,//是否压缩html
        escape: true, //默认输出是否进行HTML转义
        error: function (e) {}//错误回调
    };
    var functionMap = {}; //内部函数对象
    //修饰器前缀
    var modifierMap = {
        '': function (param) {return nothing(param)},
        'h': function (param) {return encodeHTML(param)},
        'u': function (param) {return encodeURI(param)}
    };

    var toString = {}.toString;
    var slice = [].slice;
    function type(x) {
        if(x === null){
            return 'null';
        }

        var t= typeof x;

        if(t !== 'object'){
            return t;
        }

        var c = toString.call(x).slice(8, -1).toLowerCase();
        if(c !== 'object'){
            return c;
        }

        if(x.constructor==Object){
            return c;
        }

        return 'unknown';
    }

    function isObject(obj) {
        return type(obj) === 'object';
    }
    function isFunction(fn) {
        return type(fn) === 'function';
    }
    function isString(str) {
        return type(str) === 'string';
    }
    function extend() {
        var target = arguments[0] || {};
        var arrs = slice.call(arguments, 1);
        var len = arrs.length;
     
        for (var i = 0; i < len; i++) {
            var arr = arrs[i];
            for (var name in arr) {
                target[name] = arr[name];
            }
     
        }
        return target;
    }
    function clone() {
        var args = slice.call(arguments);
        return extend.apply(null, [{}].concat(args));
    }
    function nothing(param) {
        return param;
    }
    function encodeHTML(source) {
        return String(source)
            .replace(/&/g,'&amp;')
            .replace(/</g,'&lt;')
            .replace(/>/g,'&gt;')
            .replace(/\\/g,'&#92;')
            .replace(/"/g,'&quot;')
            .replace(/'/g,'&#39;');
    }
    function compress(html) {
        return html.replace(/\s+/g, ' ').replace(/<!--[\w\W]*?-->/g, '');
    }
    function consoleAdapter(cmd, msg) {
        typeof console !== 'undefined' && console[cmd] && console[cmd](msg);
    }
    function handelError(e) {
        var message = 'template.js error\n\n';

        for (var key in e) {
            message += '<' + key + '>\n' + e[key] + '\n\n';
        }
        message += '<message>\n' + e.message + '\n\n';
        consoleAdapter('error', message);

        o.error(e);
        function error() {
            return 'template.js error';
        }
        error.toString = function () {
            return '__code__ = "template.js error"';
        }
        return error;
    }
    function parse(tpl, opt) {
        var code = '';
        var sTag = opt.sTag;
        var eTag = opt.eTag;
        var escape = opt.escape;
        function parsehtml(line) {
            // 单双引号转义，换行符替换为空格
            line = line.replace(/('|")/g, '\\$1');
            var lineList = line.split('\n');
            var code = '';
            for (var i = 0; i < lineList.length; i++) {
                code += ';__code__ += ("' + lineList[i] + (i === lineList.length - 1 ? '")\n' : '\\n")\n');
            }
            return code;
        }
        function parsejs(line) {              
            //var reg = /^(:?)(.*?)=(.*)$/;
            var reg = /^(?:=|(:.*?)=)(.*)$/
            var html;
            var arr;
            var modifier;

            // = := :*=
            // :h=123 [':h=123', 'h', '123']
            if (arr = reg.exec(line)) {
                html = arr[2]; // 输出
                if (Boolean(arr[1])) {
                    // :开头
                    modifier = arr[1].slice(1);
                } else {
                    // = 开头
                    modifier = escape ? 'h' : '';
                }

                return ';__code__ += __modifierMap__["' + modifier + '"](typeof (' + html + ') !== "undefined" ? (' + html + ') : "")\n';
            }
            
            //原生js
            return ';' + line + '\n';
        }

        var tokens = tpl.split(sTag);

        for (var i = 0, len = tokens.length; i < len; i++) {
            var token = tokens[i].split(eTag);

            if (token.length === 1) {
                code += parsehtml(token[0]);
            } else {
                code += parsejs(token[0], true);
                if (token[1]) {
                    code += parsehtml(token[1]);
                }
            }
        }
        return code;
    }
    function compiler(tpl, opt) {
        var mainCode = parse(tpl, opt);

        var headerCode = '\n' + 
        '    var html = (function (__data__, __modifierMap__) {\n' + 
        '        var __str__ = "", __code__ = "";\n' + 
        '        for(var key in __data__) {\n' + 
        '            __str__+=("var " + key + "=__data__[\'" + key + "\'];");\n' + 
        '        }\n' + 
        '        eval(__str__);\n\n';

        var footerCode = '\n' + 
        '        ;return __code__;\n' + 
        '    }(__data__, __modifierMap__));\n' + 
        '    return html;\n';

        var code = headerCode + mainCode + footerCode;
        code = code.replace(/[\r]/g, ' '); // ie 7 8 会报错，不知道为什么
        try {
            var Render = new Function('__data__', '__modifierMap__', code); 
            Render.toString = function () {
                return mainCode;
            }
            return Render;
        } catch(e) {
            e.temp = 'function anonymous(__data__, __modifierMap__) {' + code + '}';
            throw e;
        }  
    }
    function compile(tpl, opt) {
        opt = clone(o, opt);

        try {
            var Render = compiler(tpl, opt);
        } catch(e) {
            e.name = 'CompileError';
            e.tpl = tpl;
            e.render = e.temp;
            delete e.temp;
            return handelError(e);
        }

        function render(data) {
            data = clone(functionMap, data);
            try {
                var html = Render(data, modifierMap);
                html = opt.compress ? compress(html) : html;
                return html;
            } catch(e) {
                e.name = 'RenderError';
                e.tpl = tpl;
                e.render = Render.toString();
                return handelError(e)();
            }            
        }

        render.toString = function () {
            return Render.toString();
        };
        return render;
    }
    function template(tpl, data) {
        if (typeof tpl !== 'string') {
            return '';
        }

        var fn = compile(tpl);
        if (!isObject(data)) {
            return fn;
        }

        return fn(data);
    }

    template.config = function (option) {
        if (isObject(option)) {
            o = extend(o, option);
        }
        return clone(o);
    };

    template.registerFunction = function(name, fn) {
        if (!isString(name)) {
            return clone(functionMap);
        }
        if (!isFunction(fn)) {
            return functionMap[name];
        }

        return functionMap[name] = fn;
    }
    template.unregisterFunction = function (name) {
        if (!isString(name)) {
            return false;
        }
        delete functionMap[name];
        return true;
    }

    template.registerModifier = function(name, fn) {
        if (!isString(name)) {
            return clone(modifierMap);
        }
        if (!isFunction(fn)) {
            return modifierMap[name];
        }

        return modifierMap[name] = fn;
    }
    template.unregisterModifier = function (name) {
        if (!isString(name)) {
            return false;
        }
        delete modifierMap[name];
        return true;
    }

    template.__encodeHTML = encodeHTML;
    template.__compress = compress;
    template.__handelError = handelError;
    template.__compile = compile;
    template.version = '0.7.1';
    return template;
}));
</script>
<script>
/* FileSaver.js
 * A saveAs() FileSaver implementation.
 * 1.3.2
 * 2016-06-16 18:25:19
 *
 * By Eli Grey, http://eligrey.com
 * License: MIT
 *   See https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md
 */

/*global self */
/*jslint bitwise: true, indent: 4, laxbreak: true, laxcomma: true, smarttabs: true, plusplus: true */

/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */

var saveAs = saveAs || (function(view) {
        "use strict";
        // IE <10 is explicitly unsupported
        if (typeof view === "undefined" || typeof navigator !== "undefined" && /MSIE [1-9]\./.test(navigator.userAgent)) {
            return;
        }
        var
            doc = view.document
        // only get URL when necessary in case Blob.js hasn't overridden it yet
            , get_URL = function() {

                return view.URL || view.webkitURL || view;
            }
            , save_link = doc.createElementNS("http://www.w3.org/1999/xhtml", "a")
            , can_use_save_link = "download" in save_link
            , click = function(node) {
                var event = new MouseEvent("click");
                node.dispatchEvent(event);
            }
            , is_safari = /constructor/i.test(view.HTMLElement)
            , is_chrome_ios =/CriOS\/[\d]+/.test(navigator.userAgent)
            , throw_outside = function(ex) {
                (view.setImmediate || view.setTimeout)(function() {
                    throw ex;
                }, 0);
            }
            , force_saveable_type = "application/octet-stream"
        // the Blob API is fundamentally broken as there is no "downloadfinished" event to subscribe to
            , arbitrary_revoke_timeout = 1000 * 40 // in ms
            , revoke = function(file) {
                var revoker = function() {
                    if (typeof file === "string") { // file is an object URL
                        get_URL().revokeObjectURL(file);
                    } else { // file is a File
                        file.remove();
                    }
                };
                setTimeout(revoker, arbitrary_revoke_timeout);
            }
            , dispatch = function(filesaver, event_types, event) {
                event_types = [].concat(event_types);
                var i = event_types.length;
                while (i--) {
                    var listener = filesaver["on" + event_types[i]];
                    if (typeof listener === "function") {
                        try {
                            listener.call(filesaver, event || filesaver);
                        } catch (ex) {
                            throw_outside(ex);
                        }
                    }
                }
            }
            , auto_bom = function(blob) {
                // prepend BOM for UTF-8 XML and text/* types (including HTML)
                // note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF
                if (/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(blob.type)) {
                    return new Blob([String.fromCharCode(0xFEFF), blob], {type: blob.type});
                }
                return blob;
            }
            , FileSaver = function(blob, name, no_auto_bom) {
                if (!no_auto_bom) {
                    blob = auto_bom(blob);
                }
                // First try a.download, then web filesystem, then object URLs
                var
                    filesaver = this
                    , type = blob.type
                    , force = type === force_saveable_type
                    , object_url
                    , dispatch_all = function() {
                        dispatch(filesaver, "writestart progress write writeend".split(" "));
                    }
                // on any filesys errors revert to saving with object URLs
                    , fs_error = function() {
                        if ((is_chrome_ios || (force && is_safari)) && view.FileReader) {
                            // Safari doesn't allow downloading of blob urls
                            var reader = new FileReader();
                            reader.onloadend = function() {
                                var url = is_chrome_ios ? reader.result : reader.result.replace(/^data:[^;]*;/, 'data:attachment/file;');
                                var popup = view.open(url, '_blank');
                                if(!popup) view.location.href = url;
                                url=undefined; // release reference before dispatching
                                filesaver.readyState = filesaver.DONE;
                                dispatch_all();
                            };
                            reader.readAsDataURL(blob);
                            filesaver.readyState = filesaver.INIT;
                            return;
                        }
                        // don't create more object URLs than needed
                        if (!object_url) {
                            object_url = get_URL().createObjectURL(blob);
                        }
                        if (force) {
                            view.location.href = object_url;
                        } else {
                            var opened = view.open(object_url, "_blank");
                            if (!opened) {
                                // Apple does not allow window.open, see https://developer.apple.com/library/safari/documentation/Tools/Conceptual/SafariExtensionGuide/WorkingwithWindowsandTabs/WorkingwithWindowsandTabs.html
                                view.location.href = object_url;
                            }
                        }
                        filesaver.readyState = filesaver.DONE;
                        dispatch_all();
                        revoke(object_url);
                    }
                    ;
                filesaver.readyState = filesaver.INIT;

                if (can_use_save_link) {
                    object_url = get_URL().createObjectURL(blob);
                    setTimeout(function() {
                        save_link.href = object_url;
                        save_link.download = name;
                        click(save_link);
                        dispatch_all();
                        revoke(object_url);
                        filesaver.readyState = filesaver.DONE;
                    });
                    return;
                }

                fs_error();
            }
            , FS_proto = FileSaver.prototype
            , saveAs = function(blob, name, no_auto_bom) {
                return new FileSaver(blob, name || blob.name || "download", no_auto_bom);
            }
            ;
        // IE 10+ (native saveAs)
        if (typeof navigator !== "undefined" && navigator.msSaveOrOpenBlob) {
            return function(blob, name, no_auto_bom) {
                name = name || blob.name || "download";

                if (!no_auto_bom) {
                    blob = auto_bom(blob);
                }
                return navigator.msSaveOrOpenBlob(blob, name);
            };
        }

        FS_proto.abort = function(){};
        FS_proto.readyState = FS_proto.INIT = 0;
        FS_proto.WRITING = 1;
        FS_proto.DONE = 2;

        FS_proto.error =
            FS_proto.onwritestart =
                FS_proto.onprogress =
                    FS_proto.onwrite =
                        FS_proto.onabort =
                            FS_proto.onerror =
                                FS_proto.onwriteend =
                                    null;

        return saveAs;
    }(
        typeof self !== "undefined" && self
        || typeof window !== "undefined" && window
        || this.content
    ));
// `self` is undefined in Firefox for Android content script context
// while `this` is nsIContentFrameMessageManager
// with an attribute `content` that corresponds to the window

if (typeof module !== "undefined" && module.exports) {
    module.exports.saveAs = saveAs;
} else if ((typeof define !== "undefined" && define !== null) && (define.amd !== null)) {
    define([], function() {
        return saveAs;
    });
}
</script>
<script>
if (typeof jQuery !== "undefined" && typeof saveAs !== "undefined") {
    (function($) {
        $.fn.wordExport = function(fileName,styles) {
            fileName = typeof fileName !== 'undefined' ? fileName : "jQuery-Word-Export";
            var static = {
                mhtml: {
                    top: "Mime-Version: 1.0\nContent-Base: " + location.href + "\nContent-Type: Multipart/related; boundary=\"NEXT.ITEM-BOUNDARY\";type=\"text/html\"\n\n--NEXT.ITEM-BOUNDARY\nContent-Type: text/html; charset=\"utf-8\"\nContent-Location: " + location.href + "\n\n<!DOCTYPE html>\n<html>\n_html_</html>",
                    head: "<head>\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">\n<style>\n_styles_\n</style>\n</head>\n",
                    body: "<body>_body_</body>"
                }
            };
            var options = {
                maxWidth: 624
            };
            // Clone selected element before manipulating it
            var markup = $(this).clone();

            // Remove hidden elements from the output
            markup.each(function() {
                var self = $(this);
                if (self.is(':hidden'))
                    self.remove();
            });

            // Embed all images using Data URLs
            var images = Array();
            var img = markup.find('img');
            for (var i = 0; i < img.length; i++) {
                // Calculate dimensions of output image
                var w = Math.min(img[i].width, options.maxWidth);
                var h = img[i].height * (w / img[i].width);
                // Create canvas for converting image to data URL
                var canvas = document.createElement("CANVAS");
                canvas.width = w;
                canvas.height = h;
                // Draw image to canvas
                var context = canvas.getContext('2d');
                context.drawImage(img[i], 0, 0, w, h);
                // Get data URL encoding of image
                var uri = canvas.toDataURL("image/png/jpg");
                $(img[i]).attr("src", img[i].src);
                img[i].width = w;
                img[i].height = h;
                // Save encoded image to array
                images[i] = {
                    type: uri.substring(uri.indexOf(":") + 1, uri.indexOf(";")),
                    encoding: uri.substring(uri.indexOf(";") + 1, uri.indexOf(",")),
                    location: $(img[i]).attr("src"),
                    data: uri.substring(uri.indexOf(",") + 1)
                };
            }

            // Prepare bottom of mhtml file with image data
            var mhtmlBottom = "\n";
            for (var i = 0; i < images.length; i++) {
                mhtmlBottom += "--NEXT.ITEM-BOUNDARY\n";
                mhtmlBottom += "Content-Location: " + images[i].location + "\n";
                mhtmlBottom += "Content-Type: " + images[i].type + "\n";
                mhtmlBottom += "Content-Transfer-Encoding: " + images[i].encoding + "\n\n";
                mhtmlBottom += images[i].data + "\n\n";
            }
            mhtmlBottom += "--NEXT.ITEM-BOUNDARY--";

            // Aggregate parts of the file together
            var fileContent = static.mhtml.top.replace("_html_", static.mhtml.head.replace("_styles_", styles) + static.mhtml.body.replace("_body_", markup.html())) + mhtmlBottom;

            // Create a Blob with the file contents
            var blob = new Blob([fileContent], {
                type: "application/msword;charset=utf-8"
            });
            saveAs(blob, fileName);
        };
    })(jQuery);
} else {
    if (typeof jQuery === "undefined") {
        console.error("jQuery Word Export: missing dependency (jQuery)");
    }
    if (typeof saveAs === "undefined") {
        console.error("jQuery Word Export: missing dependency (FileSaver.js)");
    }
}
</script>
<script>
//显示灰色 jQuery 遮罩层
function showBg(text) {
	var bh = $("body").height();
	var bw = $("body").width();
	$("#fullbg").css({
		display: "block"
	});
	$("#dialog").show();
	$("#fullbg").show();
	document.getElementById("dialogContent").innerText = text
	setBgProcess(0)
}
function setBgProcess(p){
	var html=''
	if(p>0){
		html+='<div class="Bar"> '
		html+='	<div style="width: '+p+'%;"> '
		html+='		<span>'+p+'%</span> '
		html+='	</div> '
		html+='</div>'
	}
	document.getElementById("dialogPer").innerHTML = html
}
//关闭灰色 jQuery 遮罩
function closeBg() {
	$("#fullbg,#dialog").hide();
}
</script>
</head>
<body>
<div id="fullbg"></div>
<div id="dialog">
当前进程：
<div id="dialogContent" style="word-wrap: break-word;word-break: normal;"></div>
<p>
<div id="dialogPer"></div>
</div>
<ul class="demo-horizontal gray">
<li>
<img src="data:image/gif;base64,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" width="47" height="47">
</li>
<li><a href="https://logpainter.trpgbot.com/" target="_blank">Logpainter</a></li>
<li><a href="https://trpgbot.com" target="_blank">主站</a></li>
<li><a href="https://github.com/zhaodice/zhaodice.github.io" target="_blank">本项目GitHub</a></li>
</ul>
<div align="center" class="STYLE1">QQ跑团记录着色器</div>
<div align="center" class="STYLE2">
<p>v0.1 beta by 赵怡然</p>
</div>
<p align="center" class="STYLE3">本页面为全新研制的染色系统，如有考虑不周可以联系设计者 QQ 484546762 进行反馈。</p>
<h3 align="center" id="leftTimeShow"></h3>
<p align="center">
<a class="button button-primary button-pill" onClick="exportTXT()">下载为TXT文本文件</a>
<a class="button button-primary button-pill" onClick="exportDOC()">下载为DOC染色文件</a>
</p>
<textarea id="logContent" class="logTextare" name="textfield" rows="10" oninput="_log_text_changing()"></textarea>
<a class="rightAndDown button button-caution button-small m-no-select" onClick="document.getElementById('logContent').value=''" style="position: relative; bottom: 2.6em; right: 1em;float:right">清空文本</a>
<div id="div_player_list"></div>
<script type="text/html" id="template_player_list">
	<table width="100%" border="1">
	  <tr>
		<td>玩家名称</td>
		<td>玩家ID</td>
		<td>可视</td>
		<td>颜色选择</td>
	  </tr>
	  <% Object.keys(playerData).forEach(key => { %>
	  	<tr>
		<td><div id="player_editor_id_<%= playerData[key].id %>" oninput="_player_on_changing(this,'<%= playerData[key].id %>')" contenteditable="true" ><%= playerData[key].player %></div></td>
		<td><%= playerData[key].id %></td>
		<td><input type="checkbox" id="visibility_id_<%= playerData[key].id %>" class="regular-checkbox" checked="checked" onclick="_visibility_on_changed(this,'<%= playerData[key].id %>')"><label for="visibility_id_<%= playerData[key].id %>"></label></div>
		</td>
		<td><input onchange="_color_on_changed(this,'<%= playerData[key].id %>')" type="color" value="<%= playerData[key].color %>"/></td>
	  	</tr>
	<% }) %>
	
	  
	
	</table>
</script>
<div align="center" class="m-no-select">
<table width="100%" border="0">
<tr style="background-color: transparent;">
<td><input type="checkbox" id="visibility_CODE" class="regular-checkbox" onChange="_on_switch_changed(this)"><label for="visibility_CODE">显示框架代码</label></td>
<td><input type="checkbox" id="visibility_OB" class="regular-checkbox" onChange="_on_switch_changed(this)"><label for="visibility_OB">显示场外发言</label></td>
<td><input type="checkbox" id="visibility_TIME" class="regular-checkbox" checked="checked" onChange="_on_switch_changed(this)"><label for="visibility_TIME">显示发言时间</label></td>
<td><input type="checkbox" id="visibility_COMMAND" class="regular-checkbox" onChange="_on_switch_changed(this)"><label for="visibility_COMMAND">显示骰指令</label></td>
</tr>
</table>
</div>
<div align="center">
<div class="button-group">
<button onClick="switch_to_colored_view()" type="button" class="button button-small button-border button-rounded button-primary">
预览染色
</button>
<button onClick="switch_to_code()" type="button" class="button button-small button-border button-rounded button-primary">
输出代码
</button>
</div>
</div>
<div id="content" style="background: #FFF;">
<div id="div_log_content" role="tabpanel" style="background-color:#fff;word-wrap: break-word;word-break: normal;" onDblClick="
							var text=this;
							if (document.body.createTextRange) {
									var range = document.body.createTextRange();
									range.moveToElementText(text);
									range.select();
								} else if (window.getSelection) {
									var selection = window.getSelection();
									var range = document.createRange();
									range.selectNodeContents(text);
									selection.removeAllRanges();
									selection.addRange(range);
								}
	
						">
<span style="color:silver;">{time}</span> <span style="color:red;">&lt;{player}&gt; {content}</span><br>
</div>
</div>
<div style="position:fixed;right:0;bottom:1em">
<a id="startRenderingButton" onClick="init()" class="button button-glow button-rounded button-action">点击重新染色跑团记录</a>
<a id="gotoTopButton" href="javascript:scroll(0,0)" class="button button-glow button-rounded button-action" style="display:none">回到顶部</a>
</div>
<script type="text/html" id="template_colored_preview">
	<div id="div_log_view" role="tabpanel" style="background-color:#fff">
		<% for(var i = 0;i < logData.length;i++){ %>
			<% var pl=playerData[logData[i].id] %>
			<div class="log_child_id_<%= logData[i].id %>">
			<span class="log_child_time" style="color:silver;"><%= logData[i].time %></span> <span class="log_child_content<%= logData[i].ob?' log_child_ob':'' %>">&lt;<%= pl.player %>&gt; <%= logData[i].content %></span><br>
			</div>
		<% } %>
	</div>
	<div id="div_log_code" role="tabpanel" style="background-color:#fff">
		<% for(var i = 0;i < logData.length;i++){ %>
			<% var pl=playerData[logData[i].id] %>
			<span class="log_child_time">[color=silver]<%= logData[i].time %>[/color]</span> [color=<%= pl.color %>]&lt;<%= pl.player %>&gt; <%= logData[i].content %>[/color]<br/>
		<% } %>
	</div>
</script>
<div align="center">赵怡然 Copyright ©2021-2022 trpgbot.com </div>
<script>
const colors=['#8B0000','#228B22','#FF1493','#FFA500','#800080','#000000','#00008B','#9ACD32','#808000','#BC8F8F','#008080','#FF0000','#00FFFF','#7FFFD4','#EE82EE','#D3D3D3','#FFEBCD']
var needRerender=true
var needRedecode=true//需要重新对文本域解码
var currentLastColorNumber //最后自动选择的颜色
var loaded_data //日志数据
var loaded_players //玩家数据
var logName="跑团日志"
var viewTime = document.getElementById('visibility_TIME').checked
var viewCode = document.getElementById('visibility_CODE').checked
var viewOB = document.getElementById('visibility_OB').checked
var viewCommand = document.getElementById('visibility_COMMAND').checked
var mode_code
function _color_on_changed(e,id){
	loaded_players[id].color = e.value //修改玩家颜色
	startRenderLog() //更新CSS应用渲染
}
function _visibility_on_changed(checkbox,id){
	loaded_players[id].visibility = checkbox.checked //修改玩家是否可视
	startRenderLog() //更新CSS应用渲染
}
function _player_on_changing(textarea,id){
	loaded_players[id].player = textarea.innerText //修改玩家名称
	setElementVisibility('startRenderingButton',true)
	needRerender=true
}
function _log_text_changing(){
	needRedecode=true
	setElementVisibility('startRenderingButton',true)
	needRerender=true
}
function _on_switch_changed(e){//开关被改变
	if(e.id=='visibility_TIME'){
		viewTime=e.checked
		startRenderLog() //更新CSS应用渲染
	}else if(e.id=='visibility_CODE'){
		viewCode=e.checked
		setElementVisibility('startRenderingButton',true)
		needRerender=true
	}else if(e.id=='visibility_OB'){
		viewOB=e.checked
		setElementVisibility('startRenderingButton',true)
		needRerender=true
	}else if(e.id=='visibility_COMMAND'){
		viewCommand=e.checked
		setElementVisibility('startRenderingButton',true)
		needRerender=true
	}
	console.log(e.id,e.checked)
}

function setElementVisibility(id,v){
	if(v)
		document.getElementById(id).style.display=""; 
	else
		document.getElementById(id).style.display="none";
}
function empty(s){
	return s==null||s.trim()==''
}
//HTML转义
function HTMLEncode(html) {
	var temp = document.createElement("div");
	(temp.textContent != null) ? (temp.textContent = html) : (temp.innerText = html);
	var output = temp.innerHTML;
	temp = null;
	return output;
}
function startDecodeLog(){
	needRedecode=false
	function appendLogChild(playerName,playerID,playerTime,othersContent){
		if(empty(playerName)&&empty(playerID))
			return
		if(empty(playerName))
			playerName=playerID
		if(empty(playerID))
			playerID=crc32(playerName)
		//playerName = HTMLEncode(playerName)
		//playerID = HTMLEncode(playerID)
		//playerTime = HTMLEncode(playerTime)
		//othersContent = HTMLEncode(othersContent)
		if(loaded_players[playerID]==null)
			loaded_players[playerID]={
				player:playerName,
				id:playerID,
				color:currentLastColorNumber>=colors.length?"#000000":colors[currentLastColorNumber++],
				visibility:true
			}
		else
			loaded_players[playerID].player=playerName
		contents = othersContent.trim().split('\n')
		if(contents.length==1){
			loaded_data.push({id:playerID,time:playerTime,content:othersContent.trim()})
		}else{
			contents.forEach(content=>{
				loaded_data.push({id:playerID,time:playerTime,content:content.trim()})
			})
		}
		
		//console.log("玩家："+playerName+" ID:"+playerID+" TIME:"+playerTime+" CONTENT:"+othersContent.trim())
	}
	currentLastColorNumber=0
	loaded_data=[]
	loaded_players={}
	var logContent=document.getElementById("logContent").value.split('\n')
	var othersContent = ""
	var playerName=""
	var playerID=""
	var playerTime=""
	var preferMode=0
	var decodeModes=[
		function(){
			var math=logLine.match(/^(.*?)?\((\d+)\) (\d+:\d+:\d+)$/i)//赵骰log格式
			if(math!=null){
				appendLogChild(playerName,playerID,playerTime,othersContent)
				playerName=math[1]
				playerID=math[2]
				playerTime=math[3]
				if(playerName==null)
					playerName = playerID
				othersContent=""
				return true
			}
			return false
		},function(){
			var math=logLine.match(/^(.*?)(\(\d+\))? (((\d{4}-\d{2}-\d{2} )|(\d{4}\/\d+\/\d+ ))?((\d+:\d+:\d+(\.0)?)|(\d+:\d+)))$/i)//溯洄、塔格式
			if(math!=null){
				appendLogChild(playerName,playerID,playerTime,othersContent)
				playerName=math[1]
				playerID=math[2]
				if(playerID==null){
					playerID=''
				}else{
					playerID=playerID.substr(1,playerID.length-2)
				}
				playerTime=math[3]
				othersContent=""
				return true
			}
			return false
		},function(){
			math=logLine.match(/^(<\d{4}-\d{2}-\d{2} \d+:\d+:\d+\.0>	)?(\[.*?\]):(.*)$/i)//塔格式
			if(math!=null){
				appendLogChild(playerName,playerID,playerTime,othersContent)
				playerName=math[2]
				playerID=''
				playerTime=math[1]
				if(playerTime==null){
					playerTime=''
				}else{
					playerTime=playerTime.substr(1,playerTime.length-3)
				}
				othersContent=math[3]
				return true
			}
			return false
		},function(){
			math=logLine.match(/^(\d{4}-\d{2}-\d{2} \d+:\d+:\d+ )(.*?)\((\d+)\)$/i)//PC QQ 聊天记录导出格式
			if(math!=null){
				appendLogChild(playerName,playerID,playerTime,othersContent)
				playerName=math[2]
				playerID=math[3]
				playerTime=math[1]
				othersContent=''
				return true
			}
			return false
		},function(){
			math=logLine.match(/^(((\d{4}-\d{2}-\d{2} )|(\d{4}\/\d+\/\d+ ))?((\d+:\d+:\d+(\.0)?)|(\d+:\d+)))?\s?<(.*?)>(.*)$/i)//本染色器，染色后的格式
			if(math!=null){
				appendLogChild(playerName,playerID,playerTime,othersContent)
				playerName=math[9]
				playerTime=math[1]
				othersContent=math[10]
				return true
			}
			return false
		}
	]
log:for(var i in logContent){
		logLine=logContent[i].trim()
		if(decodeModes[preferMode]()){//使用最佳正则表达式
			continue log
		}
		for(var tryMode in decodeModes){//枚举最佳正则表达式
			if(preferMode!=tryMode && decodeModes[tryMode]()){
				preferMode = tryMode
				continue log
			}
		}
		othersContent+=logLine+'\n'
	}
	appendLogChild(playerName,playerID,playerTime,othersContent)
}
function startRenderLog(){
	String.prototype.replaceAll = function(s1,s2){return this.replace(new RegExp(s1,"gm"),s2);}
	var data=[]
	for(var i in loaded_data){
		var newChild = Object.create(loaded_data[i])
		if(!viewCode){
			newChild.content = newChild.content.replace(/\[mirai:.*\]|\[@\d+\]|\[[a-z]+=.*\]|\[.*\.gif\]|^{"app":.*|\[图片\]/,"").trim()
			if (newChild.content.length == 0) {
				continue
			}
		}
		if(!viewOB){
			if (newChild.content.startsWith('(')||newChild.content.startsWith('（')) {
				continue
			}
		}
		if(!viewCommand){
			if (newChild.content.match(/^([\.。!！](\s+)?(ra|jrrp|st|team|rav|r|ri|ti|li|sc|ww|dx|nn|pc|log|set|setcoc|hp|san|mp|coc|name).*)/i)) {
				continue
			}
		}
		//将纯ID变为艾特具体昵称
		Object.keys(loaded_players).forEach(key=>{
			if(key!=loaded_players[key].player)
				newChild.content=(newChild.content+" ").replaceAll(key+" ","@"+loaded_players[key].player+" ")
		})
		
		data.push(newChild)
	}

	// 模板渲染
	var template1 = document.getElementById('template_colored_preview').innerHTML;
	document.getElementById('div_log_content').innerHTML=template(template1,{logData:data,playerData:loaded_players});
	function addCSS(cssText){
		var style = document.getElementById('dynamicLogStyle')
		style.type = 'text/css'; //这里必须显示设置style元素的type属性为text/css，否则在ie中不起作用
		try{
			style.innerText = cssText;
		}catch(e){
	
		}
	}
	var cssText = ''
	for(var i in loaded_players){
		var player=loaded_players[i]
		cssText +='.log_child_id_'+player.id+'{ color: '+player.color+' ; '+(!player.visibility?'display:none ':'')+'}'
	}
	if(!viewTime){
		cssText +='.log_child_time{display:none;}'
	}
	//使用样式进行染色
	addCSS(cssText)
	switch_to_mode()
}

function startRenderPlayerList(){
	// 模板渲染
	var template1 = document.getElementById('template_player_list').innerHTML;
	document.getElementById('div_player_list').innerHTML=template(template1,{playerData:loaded_players});
}
function switch_to_code(){
	mode_code=true
	switch_to_mode()
}
function switch_to_colored_view(){
	mode_code=false
	switch_to_mode()
}
function switch_to_mode(){
	setElementVisibility('div_log_view',!mode_code)
	setElementVisibility('div_log_code',mode_code)
}
function init(){
	showBg("正在进行染色计算中...");
	setTimeout(function(){
		if(needRedecode){
			startDecodeLog()//开始解码log文本
		}
		startRenderLog()//开始插入css进行动态染色
		startRenderPlayerList()//开始显示player列表
		setElementVisibility('startRenderingButton',false)
		needRerender=false
		switch_to_colored_view()
		closeBg();
	},20)
}
function FUCK_Domestic_BROWSER(){
	if (navigator.userAgent.indexOf("Firefox") > -1 || navigator.userAgent.indexOf("Chrome") > -1) {
		return
	}
	alert('仅有部分浏览器支持blob流下载，请勿使用移动端的国产浏览器，可能不支持下载，建议电脑下载或手机使用 Chrome 或 Firefox 浏览器。')
}
function FUCK_SB_Domestic_BROWSER(){
	if (navigator.userAgent.indexOf("QQ") > -1 || navigator.userAgent.indexOf("MicroMessenger") > -1) {
		alert('发生严重系统错误！安全系统检测到非法浏览器，请使用 Chrome 或 Firefox 浏览器 进行下载。')
		return true
	}
	return false
}
function exportDOC(){
	FUCK_Domestic_BROWSER()
	if(FUCK_SB_Domestic_BROWSER()) return
	
	var view=$("#div_log_view")
	if(needRedecode){
		alert('请粘贴日志到输入框，然后点击右下角完成染色进程后保存染色文件')
	}else{
		var name=logName
		if(getFileExt(name)!='doc')
			name+=".doc"
		view.wordExport(name,document.getElementById('dynamicLogStyle').innerText);
	}
}
function exportTXT(){
	FUCK_Domestic_BROWSER()
	if(FUCK_SB_Domestic_BROWSER()) return
	function fakeClick(obj) {
	   var ev = document.createEvent("MouseEvents");
	   ev.initMouseEvent("click", true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);
	   obj.dispatchEvent(ev);
	}
	function exportRaw(name, data) {
		 if(getFileExt(name)!='txt')
			name+=".txt"
		 var urlObject = window.URL || window.webkitURL || window;
		 var export_blob = new Blob([data]);
		 var save_link = document.createElementNS("http://www.w3.org/1999/xhtml", "a")
		 save_link.href = urlObject.createObjectURL(export_blob);
		 save_link.download = name;
		 fakeClick(save_link);
	}
	exportRaw(logName,document.getElementById('logContent').value)
}

//document.getElementById('logContent').value=XXXXX
//init()
</script>
<script>
//自动隐藏按钮控制器
window.onscroll = function() {
	if(needRerender){
		var btn = document.getElementById('startRenderingButton');
		var scrollTop = document.body.scrollTop || (document.documentElement && document.documentElement.scrollTop);
		if (scrollTop >=300) {
			btn.style.display = 'none';
		} else{
			btn.style.display = 'block';
		}
	}
	var btn = document.getElementById('gotoTopButton');
	var scrollTop = document.body.scrollTop || (document.documentElement && document.documentElement.scrollTop);
	if (scrollTop >=300) {
		btn.style.display = 'block';
	} else{
		btn.style.display = 'none';
	}
}
</script>
<script>
String.prototype.byteLength = function() {
    var byteLen = 0;
    for (var i = 0; i < this.length; i++) {
        var c = this.charCodeAt(i);
        byteLen += c < (1 <<  7) ? 1 :
                   c < (1 << 11) ? 2 :
                   c < (1 << 16) ? 3 :
                   c < (1 << 21) ? 4 :
                   c < (1 << 26) ? 5 :
                   c < (1 << 31) ? 6 : Number.NaN;
    }
    return byteLen;
}
function loadRemoteLogFile(file) {
	loadRemoteLogFile('', file)
}
function loadRemoteLogFile(server, file) {
	var fileInfoUrl = server + "logReader.php?m=metaData&id=" + file;
	var downloadUrl = server + "logReader.php?m=rawData&id=" + file;
	var showtime = function() {
		if (leftTime > 0) {
			leftd = Math.floor(leftTime / (60 * 60 * 24)),
			//计算天数
			lefth = Math.floor(leftTime / (60 * 60) % 24),
			//计算小时数
			leftm = Math.floor(leftTime / (60) % 60),
			//计算分钟数
			lefts = Math.floor(leftTime % 60); //计算秒数
			document.getElementById("leftTimeShow").innerHTML = "警告：<font color='red'>[" + leftd + "天" + lefth + "小时" + leftm + "分钟" + lefts + "秒]</font>后文件将被删除！建议立即下载。"; //返回倒计时的字符串
		} else {
			document.getElementById("leftTimeShow").innerHTML = "<font color='red'>超时！log文件的生死将任由我们处置了哦</font>"
		}
	}
	showBg("[1/2]正在搜索文件，请稍后....");
	$.ajax({
		url: fileInfoUrl,
		type: "get",
		dataType: "json",
		success: function(data) {
			var nowdate = parseInt(new Date() / 1000);
			if (data.code == 0) {
				var crc32FromServer=data.crc32;
				showBg("[2/2]发现LOG，正在下载文件...");
				var xhr = new XMLHttpRequest();
				xhr.open('GET', downloadUrl, true);
				xhr.addEventListener('progress',
				function(event) {
					const size = event.lengthComputable?event.total:data.size //获取文件总大小
					setBgProcess((((event.target.response.byteLength()) / size) * 100).toFixed(3))
				},
				false);
				xhr.addEventListener('loadend',
				function(event) {
					var data = event.target.response;
					var crc32FromLocal = crc32(data);
					if(crc32FromServer==crc32FromLocal){//crc完整性校验成功
						document.getElementById("logContent").value = data;
						init()
					}else{
						showBg("收到了log文件，但未能通过完整性测试，可能log下载到一半被劣质的网络环境生生给夹断了，请刷新重新尝试");
					}
				});
				xhr.addEventListener('error',
				function(event) {
					showBg("联网失败，请刷新网页或稍后重试");
				});
				xhr.send();
				createTime = data.createTime;
				logName = data.fileName;
				leftTime = liveTime - (nowdate - createTime);
				if (leftTimeInterval != 0) {
					clearInterval(leftTimeInterval);
				}
				leftTimeInterval = setInterval(function() {
					showtime();
					leftTime--;
				},
				1000); //反复执行函数本身
			} else {
				showBg(data.content);
			}
		}
	}).fail(function(result, result1, result2) {
		showBg("[错误]联网失败，请刷新网页或稍后重试");
	});
}
function getFileExt(filename) {
	var index = filename.lastIndexOf(".");
	if (index == -1) return ''
	var suffix = filename.substr(index + 1);
}
function getQueryVariable(variable) {
	var query = window.location.search.substring(1);
	var vars = query.split("&");
	for (var i = 0; i < vars.length; i++) {
		var pair = vars[i].split("=");
		if (pair[0] == variable) {
			return decodeURI(pair[1]);
		}
	}
	return (false);
}
function F5() {
	var remoteCode = (function() {
		var str = window.location.href;
		var index = str.lastIndexOf("\/");
		str = str.substring(index + 1, str.length);
		return str;
	})();
	if (remoteCode != '' && remoteCode.indexOf('.') == -1) {
		if (remoteCode.startsWith('#')) {
			remoteCode = remoteCode.substr(1) 
			remoteCode = remoteCode.split('-') 
			if (remoteCode.length == 2) {
				loadRemoteLogFile(serverList[parseInt(remoteCode[0])], remoteCode[1]) //解析格式为 https://染色器地址/#ID-CODE
			}
		} else {
			loadRemoteLogFile('', remoteCode)
		}
	}
}
var serverList = ['https://s02.trpgbot.com/s/']
var createTime = 0 //文件上传时间
var leftTime = 0 //剩余时间
var liveTime = 864000 //文件可以存活的时间
var leftTimeInterval = 0 
F5() 
window.addEventListener('hashchange',function(event) {
	needRedecode = true 
	needRerender = true 
	F5()
})
</script>
</body>
</html>
